<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>MP3 Player</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  background:#111;
  color:#0f0;
  font-family: monospace;
  padding:10px;
}
h3 { text-align:center; }
li {
  cursor:pointer;
  padding:6px;
  border-bottom:1px solid #333;
}
li:hover { background:#222; }
.active { background:#0f0; color:#000; }
audio { width:100%; margin-top:10px; }
</style>
</head>
<body>

<h3>MP3 Player</h3>

<audio id="player" controls autoplay></audio>
<ul id="list"></ul>

<script>
const user = "punyaaris1-lang";
const repo = "music";
const folder = "mp3";

const list = document.getElementById("list");
const player = document.getElementById("player");

fetch(`https://api.github.com/repos/${user}/${repo}/contents/${folder}`)
.then(r => r.json())
.then(files => {
  const mp3 = files.filter(f => f.name.endsWith(".mp3"));

  mp3.forEach((f, i) => {
    const li = document.createElement("li");
    li.textContent = f.name;
    li.onclick = () => play(f.name, li);
    list.appendChild(li);

    if (i === 0) play(f.name, li); // auto play lagu pertama
  });
});

function play(name, el) {
  [...list.children].forEach(l => l.classList.remove("active"));
  el.classList.add("active");
  player.src = `https://cdn.jsdelivr.net/gh/${user}/${repo}@main/${folder}/${name}`;
  player.play();
}
</script>

</body>
</html>
